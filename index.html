<!DOCTYPE html >
<html>
<head>
    <meta http-equiv="X-UA-Compatible" content="chrome=1"/>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>ISO Kode simulator</title>
    <script src="webapp/libs/require.js"></script>
    <script src="webapp/config.js"></script>
    <script>
        requirejs.config({
            baseUrl: 'webapp'
        });
    </script>

    <link rel="shortcut icon" href="webapp/images/icon_fraise_48.png"/>
    <link rel="stylesheet" href="webapp/twoDView.css" type="text/css">
    <link rel="stylesheet" href="webapp/threeDView.css" type="text/css">
    <style>

        body, html {
            -webkit-box-sizing: border-box;
            -moz-box-sizing: border-box;
            box-sizing: border-box;
            position: absolute;
            height: 100%;
            width: 100%;
            margin: 0;
        }

        body {
            padding-left: 8px;
            padding-right: 8px;
        }

        h1 {
            margin-top: 0;
        }

        .editBlock {
            position: relative;
            float: left;
            width: 39%;
            height: 400px;
            padding: 1px;
            margin: 0;
        }

        .editBlock pre {
            width: 100%;
            height: 350px;
            margin: 0;
        }

        .viewContainer {
            float: right;
            width: 60%;
        }

        #loader {
            display: inline-block;
            background-size: 100% 100%;
            background-image: url(webapp/images/spinner.svg);
            width: 20px;
            height: 20px;
        }

        .boundsTable {
            border-collapse: collapse;
        }

        .boundsTable td {
            border: dashed gray 1px;
            padding: 3px;
        }

        .ThreeDView {
            border: solid gray 1px;
            background: #000;
            height: 400px;
            position: relative;
        }

        .TwoDView {
            border: solid gray 1px;
            background: #000;
            height: 400px;
        }

        #app {
            position: relative;
        }
    </style>
</head>
<body>


<h1>ISO Kode simulator</h1>

<p>
    Lim inn iso koden din i det venstre vinduet eller slipp en fil til siden og se en forhåndsvisning av din verktøybane på høyre vindu.<br>
    Høyre vindu er interaktivt, du kan se rundt.
</p>

<div id="app">

</div>
<script id="demoCode" type="application/gcode">G0 Y10 Z-5
    F100
    G0  X0 Y0 Z10
    G0  X13.8135 Y17.71 Z5
    F100
    G1  X13.8135 Y17.71 Z5
    G1  X13.8135 Y17.71 Z-5
    G1  X13.9581 Y17.7065 Z-5
    G1  X14.0918 Y17.6962 Z-5
    G1  X14.2145 Y17.6791 Z-5
    G1  X14.3262 Y17.655 Z-5
    G1  X14.4269 Y17.6241 Z-5
    G1  X14.5166 Y17.5864 Z-5
    G1  X14.5953 Y17.5417 Z-5
    G1  X14.6631 Y17.4902 Z-5
    G1  X14.7215 Y17.4307 Z-5
    G1  X14.772 Y17.3621 Z-5
    G1  X14.8148 Y17.2842 Z-5
    G1  X14.8499 Y17.1973 Z-5
    G1  X14.8771 Y17.1011 Z-5
    G1  X14.8965 Y16.9958 Z-5
    G1  X14.9082 Y16.8814 Z-5
    G1  X14.9121 Y16.7578 Z-5
    G1  X14.9121 Y13.3887 Z-5
    G1  X14.9082 Y13.2651 Z-5
    G1  X14.8965 Y13.1506 Z-5
    G1  X14.8771 Y13.0453 Z-5
    G1  X14.8499 Y12.9492 Z-5
    G1  X14.8148 Y12.8622 Z-5
    G1  X14.772 Y12.7844 Z-5
    G1  X14.7215 Y12.7158 Z-5
    G1  X14.6631 Y12.6563 Z-5
    G1  X14.5953 Y12.6048 Z-5
    G1  X14.5166 Y12.5601 Z-5
    G1  X14.4269 Y12.5224 Z-5
    G1  X14.3262 Y12.4915 Z-5
    G1  X14.2145 Y12.4674 Z-5
    G1  X14.0918 Y12.4503 Z-5
    G1  X13.9581 Y12.44 Z-5
    G1  X13.8135 Y12.4365 Z-5
    G1  X13.6798 Y12.4425 Z-5
    G1  X13.5571 Y12.4603 Z-5
    G1  X13.4454 Y12.4901 Z-5
    G1  X13.3447 Y12.5317 Z-5
    G1  X13.255 Y12.5853 Z-5
    G1  X13.1763 Y12.6508 Z-5
    G1  X13.1085 Y12.7281 Z-5
    G1  X13.0518 Y12.8174 Z-5
    G1  X12.9616 Y12.9815 Z-5
    G1  X12.8671 Y13.1407 Z-5
    G1  X12.768 Y13.2949 Z-5
    G1  X12.6645 Y13.4441 Z-5
    G1  X12.5565 Y13.5883 Z-5
    G1  X12.4441 Y13.7275 Z-5
    G1  X12.3272 Y13.8618 Z-5
    G1  X12.2058 Y13.9911 Z-5
    G1  X12.08 Y14.1154 Z-5
    G1  X11.9497 Y14.2347 Z-5
    G1  X11.8149 Y14.3491 Z-5
    G1  X11.6757 Y14.4585 Z-5
    G1  X11.532 Y14.5629 Z-5
    G1  X11.3839 Y14.6623 Z-5
    G1  X11.2313 Y14.7567 Z-5
    G1  X11.0742 Y14.8462 Z-5
    G1  X10.9135 Y14.9304 Z-5
    G1  X10.7501 Y15.0093 Z-5
    G1  X10.584 Y15.0827 Z-5
    G1  X10.415 Y15.1506 Z-5
    G1  X10.2434 Y15.2131 Z-5
    G1  X10.069 Y15.2702 Z-5
    G1  X9.8918 Y15.3218 Z-5
    G1  X9.7119 Y15.368 Z-5
    G1  X9.5293 Y15.4088 Z-5
    G1  X9.3439 Y15.4441 Z-5
    G1  X9.1557 Y15.474 Z-5
    G1  X8.9648 Y15.4985 Z-5
    G1  X8.7712 Y15.5175 Z-5
    G1  X8.5748 Y15.5311 Z-5
    G1  X8.3757 Y15.5393 Z-5
    G1  X8.1738 Y15.542 Z-5
    G1  X7.9752 Y15.5391 Z-5
    G1  X7.7823 Y15.5303 Z-5
    G1  X7.5951 Y15.5157 Z-5
    G1  X7.4135 Y15.4953 Z-5
    G1  X7.2376 Y15.469 Z-5
    G1  X7.0673 Y15.4369 Z-5
    G1  X6.9027 Y15.399 Z-5
    G1  X6.7438 Y15.3552 Z-5
    G1  X6.5905 Y15.3056 Z-5
    G1  X6.4429 Y15.2502 Z-5
    G1  X6.301 Y15.1889 Z-5
    G1  X6.1647 Y15.1218 Z-5
    G1  X6.0341 Y15.0488 Z-5
    G1  X5.9092 Y14.97 Z-5
    G1  X5.7899 Y14.8854 Z-5
    G1  X5.6763 Y14.7949 Z-5
    G1  X5.569 Y14.6995 Z-5
    G1  X5.4686 Y14.6001 Z-5
    G1  X5.3751 Y14.4967 Z-5
    G1  X5.2885 Y14.3893 Z-5
    G1  X5.2089 Y14.2779 Z-5
    G1  X5.1362 Y14.1625 Z-5
    G1  X5.0704 Y14.0431 Z-5
    G1  X5.0116 Y13.9197 Z-5
    G1  X4.9597 Y13.7922 Z-5
    G1  X4.9147 Y13.6608 Z-5
    G1  X4.8766 Y13.5254 Z-5
    G1  X4.8454 Y13.3859 Z-5
    G1  X4.8212 Y13.2425 Z-5
    G1  X4.8039 Y13.095 Z-5
    G1  X4.7935 Y12.9436 Z-5
    G1  X4.79 Y12.7881 Z-5
    G1  X4.7948 Y12.6409 Z-5
    G1  X4.8093 Y12.4997 Z-5
    G1  X4.8333 Y12.3644 Z-5
    G1  X4.8669 Y12.2351 Z-5
    G1  X4.9102 Y12.1117 Z-5
    G1  X4.9631 Y11.9943 Z-5
    G1  X5.0256 Y11.8829 Z-5
    G1  X5.0977 Y11.7773 Z-5
    G1  X5.1787 Y11.6766 Z-5
    G1  X5.2679 Y11.5796 Z-5
    G1  X5.3654 Y11.4862 Z-5
    G1  X5.4712 Y11.3965 Z-5
    G1  X5.5852 Y11.3104 Z-5
    G1  X5.7074 Y11.228 Z-5
    G1  X5.8379 Y11.1493 Z-5
    G1  X5.9766 Y11.0742 Z-5
    G1  X6.1075 Y11.0098 Z-5
    G1  X6.2439 Y10.9483 Z-5
    G1  X6.3858 Y10.8899 Z-5
    G1  X6.5332 Y10.8344 Z-5
    G1  X6.6861 Y10.7818 Z-5
    G1  X6.8445 Y10.7323 Z-5
    G1  X7.0084 Y10.6857 Z-5
    G1  X7.1777 Y10.6421 Z-5
    G1  X7.3572 Y10.5992 Z-5
    G1  X7.5513 Y10.5547 Z-5
    G1  X7.76 Y10.5085 Z-5
    G1  X7.9834 Y10.4608 Z-5
    G1  X8.2214 Y10.4115 Z-5
    G1  X8.4741 Y10.3606 Z-5
    G1  X8.7415 Y10.308 Z-5
    G1  X9.0234 Y10.2539 Z-5
    G1  X9.3303 Y10.1929 Z-5
    G1  X9.6208 Y10.1344 Z-5
    G1  X9.8951 Y10.0785 Z-5
    G1  X10.1532 Y10.025 Z-5
    G1  X10.395 Y9.9741 Z-5
    G1  X10.6206 Y9.9257 Z-5
    G1  X10.8299 Y9.8798 Z-5
    G1  X11.0229 Y9.8364 Z-5
    G1  X11.3914 Y9.7444 Z-5
    G1  X11.7572 Y9.6368 Z-5
    G1  X12.1202 Y9.5137 Z-5
    G1  X12.4805 Y9.375 Z-5
    G1  X12.6611 Y9.2981 Z-5
    G1  X12.8367 Y9.2174 Z-5
    G1  X13.0074 Y9.133 Z-5
    G1  X13.1731 Y9.045 Z-5
    G1  X13.3338 Y8.9531 Z-5
    G1  X13.4895 Y8.8576 Z-5
    G1  X13.6402 Y8.7584 Z-5
    G1  X13.786 Y8.6554 Z-5
    G1  X13.9268 Y8.5487 Z-5
    G1  X14.0626 Y8.4383 Z-5
    G1  X14.1934 Y8.3242 Z-5
    G1  X14.3193 Y8.2063 Z-5
    G1  X14.4402 Y8.0848 Z-5
    G1  X14.5561 Y7.9595 Z-5
    G1  X14.667 Y7.8305 Z-5
    G1  X14.7729 Y7.6978 Z-5
    G1  X14.8732 Y7.5602 Z-5
    G1  X14.9669 Y7.4168 Z-5
    G1  X15.0542 Y7.2675 Z-5
    G1  X15.135 Y7.1123 Z-5
    G1  X15.2094 Y6.9512 Z-5
    G1  X15.2773 Y6.7842 Z-5
    G1  X15.3387 Y6.6113 Z-5
    G1  X15.3937 Y6.4325 Z-5
    G1  X15.4422 Y6.2478 Z-5
    G1  X15.4842 Y6.0572 Z-5
    G1  X15.5198 Y5.8608 Z-5
    G1  X15.5489 Y5.6584 Z-5
    G1  X15.5715 Y5.4502 Z-5
    G1  X15.5877 Y5.236 Z-5
    G1  X15.5974 Y5.016 Z-5
    G1  X15.6006 Y4.79 Z-5
    G1  X15.5978 Y4.6011 Z-5
    G1  X15.5894 Y4.415 Z-5
    G1  X15.5754 Y4.2319 Z-5
    G1  X15.5557 Y4.0517 Z-5
    G1  X15.5305 Y3.8744 Z-5
    G1  X15.4996 Y3.7 Z-5
    G1  X15.4632 Y3.5285 Z-5
    G1  X15.4211 Y3.36 Z-5
    G1  X15.3735 Y3.1944 Z-5
    G1  X15.3202 Y3.0317 Z-5
    G1  X15.2613 Y2.8719 Z-5
    G1  X15.1968 Y2.715 Z-5
    G1  X15.1267 Y2.561 Z-5
    G1  X15.051 Y2.41 Z-5
    G1  X14.9697 Y2.2619 Z-5
    G1  X14.8828 Y2.1167 Z-5
    G1  X14.7904 Y1.9749 Z-5
    G1  X14.6927 Y1.8371 Z-5
    G1  X14.5897 Y1.7033 Z-5
    G1  X14.4814 Y1.5733 Z-5
    G1  X14.3677 Y1.4474 Z-5
    G1  X14.2487 Y1.3253 Z-5
    G1  X14.1244 Y1.2073 Z-5
    G1  X13.9948 Y1.0931 Z-5
    G1  X13.8598 Y0.983 Z-5
    G1  X13.7195 Y0.8767 Z-5
    G1  X13.5739 Y0.7745 Z-5
    G1  X13.423 Y0.6761 Z-5
    G1  X13.2668 Y0.5817 Z-5
    G1  X13.1052 Y0.4913 Z-5
    G1  X12.9383 Y0.4048 Z-5
    G1  X12.7661 Y0.3223 Z-5
    G1  X12.589 Y0.2442 Z-5
    G1  X12.4076 Y0.1712 Z-5
    G1  X12.2217 Y0.1032 Z-5
    G1  X12.0314 Y0.0403 Z-5
    G1  X11.8367 Y-0.0176 Z-5
    G1  X11.6376 Y-0.0705 Z-5
    G1  X11.4341 Y-0.1183 Z-5
    G1  X11.2262 Y-0.1611 Z-5
    G1  X11.0139 Y-0.1989 Z-5
    G1  X10.7972 Y-0.2316 Z-5
    G1  X10.576 Y-0.2593 Z-5
    G1  X10.3505 Y-0.282 Z-5
    G1  X10.1206 Y-0.2996 Z-5
    G1  X9.8862 Y-0.3122 Z-5
    G1  X9.6475 Y-0.3197 Z-5
    G1  X9.4043 Y-0.3223 Z-5
    G1  X9.0414 Y-0.3139 Z-5
    G1  X8.6852 Y-0.2888 Z-5
    G1  X8.3355 Y-0.2471 Z-5
    G1  X7.9926 Y-0.1886 Z-5
    G1  X7.6562 Y-0.1134 Z-5
    G1  X7.3265 Y-0.0215 Z-5
    G1  X7.0034 Y0.0871 Z-5
    G1  X6.687 Y0.2124 Z-5
    G1  X6.3791 Y0.3537 Z-5
    G1  X6.0814 Y0.5104 Z-5
    G1  X5.794 Y0.6824 Z-5
    G1  X5.517 Y0.8698 Z-5
    G1  X5.2502 Y1.0724 Z-5
    G1  X4.9937 Y1.2904 Z-5
    G1  X4.7476 Y1.5238 Z-5
    G1  X4.5117 Y1.7725 Z-5
    G1  X4.5117 Y0.6299 Z-5
    G1  X4.5078 Y0.5063 Z-5
    G1  X4.4962 Y0.3918 Z-5
    G1  X4.4767 Y0.2866 Z-5
    G1  X4.4495 Y0.1904 Z-5
    G1  X4.4144 Y0.1035 Z-5
    G1  X4.3716 Y0.0256 Z-5
    G1  X4.3211 Y-0.043 Z-5
    G1  X4.2627 Y-0.1025 Z-5
    G1  X4.1949 Y-0.154 Z-5
    G1  X4.1162 Y-0.1987 Z-5
    G1  X4.0265 Y-0.2364 Z-5
    G1  X3.9258 Y-0.2673 Z-5
    G1  X3.8141 Y-0.2914 Z-5
    G1  X3.6914 Y-0.3085 Z-5
    G1  X3.5577 Y-0.3188 Z-5
    G1  X3.4131 Y-0.3223 Z-5
    G1  X3.2684 Y-0.3188 Z-5
    G1  X3.1348 Y-0.3085 Z-5
    G1  X3.0121 Y-0.2914 Z-5
    G1  X2.9004 Y-0.2673 Z-5
    G1  X2.7997 Y-0.2364 Z-5
    G1  X2.71 Y-0.1987 Z-5
    G1  X2.6312 Y-0.154 Z-5
    G1  X2.5635 Y-0.1025 Z-5
    G1  X2.5051 Y-0.043 Z-5
    G1  X2.4545 Y0.0256 Z-5
    G1  X2.4117 Y0.1035 Z-5
    G1  X2.3767 Y0.1904 Z-5
    G1  X2.3495 Y0.2866 Z-5
    G1  X2.33 Y0.3918 Z-5
    G1  X2.3183 Y0.5063 Z-5
    G1  X2.3145 Y0.6299 Z-5
    G1  X2.3145 Y5.0244 Z-5
    G1  X2.3183 Y5.148 Z-5
    G1  X2.33 Y5.2625 Z-5
    G1  X2.3495 Y5.3677 Z-5
    G1  X2.3767 Y5.4639 Z-5
    G1  X2.4117 Y5.5508 Z-5
    G1  X2.4545 Y5.6287 Z-5
    G1  X2.5051 Y5.6973 Z-5
    G1  X2.5635 Y5.7568 Z-5
    G1  X2.6312 Y5.8083 Z-5
    G1  X2.71 Y5.853 Z-5
    G1  X2.7997 Y5.8907 Z-5
    G1  X2.9004 Y5.9216 Z-5
    G1  X3.0121 Y5.9457 Z-5
    G1  X3.1348 Y5.9628 Z-5
    G1  X3.2684 Y5.9731 Z-5
    G1  X3.4131 Y5.9766 Z-5
    G1  X3.4902 Y5.9742 Z-5
    G1  X3.5641 Y5.9669 Z-5
    G1  X3.6349 Y5.9549 Z-5
    G1  X3.7024 Y5.9381 Z-5
    G1  X3.7667 Y5.9165 Z-5
    G1  X3.8278 Y5.89 Z-5
    G1  X3.8857 Y5.8588 Z-5
    G1  X3.9404 Y5.8228 Z-5
    G1  X3.9919 Y5.7819 Z-5
    G1  X4.0402 Y5.7362 Z-5
    G1  X4.0853 Y5.6858 Z-5
    G1  X4.1272 Y5.6305 Z-5
    G1  X4.1659 Y5.5704 Z-5
    G1  X4.2014 Y5.5055 Z-5
    G1  X4.2336 Y5.4358 Z-5
    G1  X4.2627 Y5.3613 Z-5
    G1  X4.3405 Y5.152 Z-5
    G1  X4.4239 Y4.9489 Z-5
    G1  X4.5129 Y4.7519 Z-5
    G1  X4.6074 Y4.5612 Z-5
    G1  X4.7074 Y4.3766 Z-5
    G1  X4.813 Y4.1982 Z-5
    G1  X4.9242 Y4.0259 Z-5
    G1  X5.0409 Y3.8599 Z-5
    G1  X5.1631 Y3.7 Z-5
    G1  X5.2909 Y3.5463 Z-5
    G1  X5.4243 Y3.3988 Z-5
    G1  X5.5632 Y3.2574 Z-5
    G1  X5.7077 Y3.1223 Z-5
    G1  X5.8577 Y2.9933 Z-5
    G1  X6.0132 Y2.8705 Z-5
    G1  X6.1743 Y2.7539 Z-5
    G1  X6.3406 Y2.6439 Z-5
    G1  X6.5116 Y2.541 Z-5
    G1  X6.6873 Y2.4453 Z-5
    G1  X6.8678 Y2.3566 Z-5
    G1  X7.0531 Y2.275 Z-5
    G1  X7.2431 Y2.2005 Z-5
    G1  X7.4378 Y2.1331 Z-5
    G1  X7.6373 Y2.0728 Z-5
    G1  X7.8416 Y2.0195 Z-5
    G1  X8.0506 Y1.9734 Z-5
    G1  X8.2643 Y1.9344 Z-5
    G1  X8.4828 Y1.9025 Z-5
    G1  X8.7061 Y1.8776 Z-5
    G1  X8.9341 Y1.8599 Z-5
    G1  X9.1668 Y1.8493 Z-5
    G1  X9.4043 Y1.8457 Z-5
    G1  X9.6353 Y1.8489 Z-5
    G1  X9.8594 Y1.8583 Z-5
    G1  X10.0768 Y1.874 Z-5
    G1  X10.2873 Y1.8961 Z-5
    G1  X10.4911 Y1.9244 Z-5
    G1  X10.688 Y1.959 Z-5
    G1  X10.8781 Y1.9999 Z-5
    G1  X11.0614 Y2.0471 Z-5
    G1  X11.2379 Y2.1006 Z-5
    G1  X11.4076 Y2.1604 Z-5
    G1  X11.5705 Y2.2265 Z-5
    G1  X11.7265 Y2.2989 Z-5
    G1  X11.8758 Y2.3776 Z-5
    G1  X12.0182 Y2.4625 Z-5
    G1  X12.1539 Y2.5538 Z-5
    G1  X12.2827 Y2.6514 Z-5
    G1  X12.4042 Y2.7541 Z-5
    G1  X12.5179 Y2.861 Z-5
    G1  X12.6237 Y2.972 Z-5
    G1  X12.7217 Y3.0872 Z-5
    G1  X12.8119 Y3.2064 Z-5
    G1  X12.8942 Y3.3298 Z-5
    G1  X12.9686 Y3.4573 Z-5
    G1  X13.0353 Y3.5889 Z-5
    G1  X13.0941 Y3.7246 Z-5
    G1  X13.145 Y3.8644 Z-5
    G1  X13.1881 Y4.0084 Z-5
    G1  X13.2234 Y4.1565 Z-5
    G1  X13.2509 Y4.3087 Z-5
    G1  X13.2705 Y4.465 Z-5
    G1  X13.2822 Y4.6255 Z-5
    G1  X13.2861 Y4.79 Z-5
    G1  X13.2789 Y5.0154 Z-5
    G1  X13.2573 Y5.2299 Z-5
    G1  X13.2212 Y5.4338 Z-5
    G1  X13.1708 Y5.6268 Z-5
    G1  X13.1059 Y5.8091 Z-5
    G1  X13.0266 Y5.9807 Z-5
    G1  X12.9329 Y6.1415 Z-5
    G1  X12.8247 Y6.2915 Z-5
    G1  X12.7028 Y6.4331 Z-5
    G1  X12.5679 Y6.5685 Z-5
    G1  X12.4199 Y6.6977 Z-5
    G1  X12.2589 Y6.8207 Z-5
    G1  X12.0848 Y6.9375 Z-5
    G1  X11.8977 Y7.0482 Z-5
    G1  X11.6976 Y7.1527 Z-5
    G1  X11.4844 Y7.251 Z-5
    G1  X11.1996 Y7.3695 Z-5
    G1  X10.9021 Y7.4762 Z-5
    G1  X10.5917 Y7.571 Z-5
    G1  X10.2686 Y7.6538 Z-5
    G1  X10.0962 Y7.6935 Z-5
    G1  X9.9088 Y7.7357 Z-5
    G1  X9.7062 Y7.7805 Z-5
    G1  X9.4885 Y7.8278 Z-5
    G1  X9.2558 Y7.8775 Z-5
    G1  X9.0079 Y7.9298 Z-5
    G1  X8.7449 Y7.9847 Z-5
    G1  X8.4668 Y8.042 Z-5
    G1  X8.1726 Y8.1001 Z-5
    G1  X7.8905 Y8.1573 Z-5
    G1  X7.6205 Y8.2137 Z-5
    G1  X7.3627 Y8.269 Z-5
    G1  X7.117 Y8.3235 Z-5
    G1  X6.8834 Y8.3771 Z-5
    G1  X6.6619 Y8.4297 Z-5
    G1  X6.4526 Y8.4814 Z-5
    G1  X6.2513 Y8.5343 Z-5
    G1  X6.0539 Y8.5904 Z-5
    G1  X5.8604 Y8.6497 Z-5
    G1  X5.6708 Y8.7122 Z-5
    G1  X5.485 Y8.7778 Z-5
    G1  X5.3032 Y8.8467 Z-5
    G1  X5.1252 Y8.9188 Z-5
    G1  X4.9512 Y8.9941 Z-5
    G1  X4.8067 Y9.0615 Z-5
    G1  X4.6663 Y9.1318 Z-5
    G1  X4.53 Y9.205 Z-5
    G1  X4.3977 Y9.2812 Z-5
    G1  X4.2695 Y9.3602 Z-5
    G1  X4.1454 Y9.4422 Z-5
    G1  X4.0253 Y9.5271 Z-5
    G1  X3.9093 Y9.6149 Z-5
    G1  X3.7973 Y9.7056 Z-5
    G1  X3.6895 Y9.7992 Z-5
    G1  X3.5856 Y9.8958 Z-5
    G1  X3.4859 Y9.9953 Z-5
    G1  X3.3902 Y10.0977 Z-5
    G1  X3.2985 Y10.203 Z-5
    G1  X3.211 Y10.3112 Z-5
    G1  X3.1274 Y10.4224 Z-5
    G1  X3.0485 Y10.5372 Z-5
    G1  X2.9747 Y10.6564 Z-5
    G1  X2.9059 Y10.78 Z-5
    G1  X2.8423 Y10.9081 Z-5
    G1  X2.7837 Y11.0405 Z-5
    G1  X2.7302 Y11.1773 Z-5
    G1  X2.6818 Y11.3186 Z-5
    G1  X2.6385 Y11.4642 Z-5
    G1  X2.6004 Y11.6143 Z-5
    G1  X2.5673 Y11.7688 Z-5
    G1  X2.5392 Y11.9276 Z-5
    G1  X2.5163 Y12.0909 Z-5
    G1  X2.4985 Y12.2586 Z-5
    G1  X2.4858 Y12.4307 Z-5
    G1  X2.4781 Y12.6072 Z-5
    G1  X2.4756 Y12.7881 Z-5
    G1  X2.4784 Y12.9751 Z-5
    G1  X2.4869 Y13.1591 Z-5
    G1  X2.5011 Y13.34 Z-5
    G1  X2.5209 Y13.5178 Z-5
    G1  X2.5464 Y13.6925 Z-5
    G1  X2.5776 Y13.8641 Z-5
    G1  X2.6144 Y14.0326 Z-5
    G1  X2.6569 Y14.198 Z-5
    G1  X2.705 Y14.3603 Z-5
    G1  X2.7588 Y14.5196 Z-5
    G1  X2.8183 Y14.6757 Z-5
    G1  X2.8835 Y14.8288 Z-5
    G1  X2.9543 Y14.9788 Z-5
    G1  X3.0307 Y15.1257 Z-5
    G1  X3.1129 Y15.2695 Z-5
    G1  X3.2007 Y15.4102 Z-5
    G1  X3.2936 Y15.5473 Z-5
    G1  X3.3909 Y15.6804 Z-5
    G1  X3.4927 Y15.8094 Z-5
    G1  X3.5989 Y15.9343 Z-5
    G1  X3.7097 Y16.0552 Z-5
    G1  X3.8248 Y16.172 Z-5
    G1  X3.9445 Y16.2847 Z-5
    G1  X4.0686 Y16.3934 Z-5
    G1  X4.1972 Y16.4981 Z-5
    G1  X4.3302 Y16.5986 Z-5
    G1  X4.4677 Y16.6951 Z-5
    G1  X4.6097 Y16.7876 Z-5
    G1  X4.7561 Y16.8759 Z-5
    G1  X4.907 Y16.9603 Z-5
    G1  X5.0624 Y17.0405 Z-5
    G1  X5.2222 Y17.1167 Z-5
    G1  X5.3856 Y17.1885 Z-5
    G1  X5.5519 Y17.2557 Z-5
    G1  X5.7209 Y17.3183 Z-5
    G1  X5.8928 Y17.3763 Z-5
    G1  X6.0675 Y17.4296 Z-5
    G1  X6.2449 Y17.4782 Z-5
    G1  X6.4252 Y17.5222 Z-5
    G1  X6.6083 Y17.5616 Z-5
    G1  X6.7942 Y17.5964 Z-5
    G1  X6.9828 Y17.6265 Z-5
    G1  X7.1743 Y17.652 Z-5
    G1  X7.3686 Y17.6729 Z-5
    G1  X7.5657 Y17.6891 Z-5
    G1  X7.7656 Y17.7007 Z-5
    G1  X7.9683 Y17.7076 Z-5
    G1  X8.1738 Y17.71 Z-5
    G1  X8.4947 Y17.7022 Z-5
    G1  X8.8129 Y17.6788 Z-5
    G1  X9.1283 Y17.6399 Z-5
    G1  X9.4409 Y17.5854 Z-5
    G1  X9.7508 Y17.5154 Z-5
    G1  X10.058 Y17.4298 Z-5
    G1  X10.3624 Y17.3286 Z-5
    G1  X10.6641 Y17.2119 Z-5
    G1  X10.9589 Y17.0819 Z-5
    G1  X11.2427 Y16.9409 Z-5
    G1  X11.5155 Y16.7889 Z-5
    G1  X11.7773 Y16.626 Z-5
    G1  X12.0282 Y16.452 Z-5
    G1  X12.2681 Y16.2671 Z-5
    G1  X12.4969 Y16.0712 Z-5
    G1  X12.7148 Y15.8643 Z-5
    G1  X12.7148 Y16.7578 Z-5
    G1  X12.7187 Y16.8814 Z-5
    G1  X12.7304 Y16.9958 Z-5
    G1  X12.7499 Y17.1011 Z-5
    G1  X12.7771 Y17.1973 Z-5
    G1  X12.8121 Y17.2842 Z-5
    G1  X12.8549 Y17.3621 Z-5
    G1  X12.9055 Y17.4307 Z-5
    G1  X12.9639 Y17.4902 Z-5
    G1  X13.0316 Y17.5417 Z-5
    G1  X13.1104 Y17.5864 Z-5
    G1  X13.2001 Y17.6241 Z-5
    G1  X13.3008 Y17.655 Z-5
    G1  X13.4125 Y17.6791 Z-5
    G1  X13.5352 Y17.6962 Z-5
    G1  X13.6688 Y17.7065 Z-5
    G1  X13.8135 Y17.71 Z-5
    G0  X13.8135 Y17.71 Z5
    G0  X28.1982 Y17.3877 Z5
    F100
    G1  X28.1982 Y17.3877 Z5
    G1  X28.1982 Y17.3877 Z-5
    G1  X28.3183 Y17.3841 Z-5
    G1  X28.4294 Y17.3735 Z-5
    G1  X28.5316 Y17.3558 Z-5
    G1  X28.6249 Y17.3309 Z-5
    G1  X28.7092 Y17.299 Z-5
    G1  X28.7846 Y17.26 Z-5
    G1  X28.8511 Y17.2139 Z-5
    G1  X28.9087 Y17.1606 Z-5
    G1  X28.9585 Y17.099 Z-5
    G1  X29.0016 Y17.0274 Z-5
    G1  X29.0381 Y16.9461 Z-5
    G1  X29.068 Y16.8549 Z-5
    G1  X29.0912 Y16.7538 Z-5
    G1  X29.1078 Y16.6429 Z-5
    G1  X29.1178 Y16.5222 Z-5
    G1  X29.1211 Y16.3916 Z-5
    G1  X29.1178 Y16.261 Z-5
    G1  X29.1078 Y16.1403 Z-5
    G1  X29.0912 Y16.0294 Z-5
    G1  X29.068 Y15.9283 Z-5
    G1  X29.0381 Y15.8371 Z-5
    G1  X29.0016 Y15.7558 Z-5
    G1  X28.9585 Y15.6842 Z-5
    G1  X28.9087 Y15.6226 Z-5
    G1  X28.8511 Y15.5693 Z-5
    G1  X28.7846 Y15.5232 Z-5
    G1  X28.7092 Y15.4842 Z-5
    G1  X28.6249 Y15.4523 Z-5
    G1  X28.5316 Y15.4274 Z-5
    G1  X28.4294 Y15.4097 Z-5
    G1  X28.3183 Y15.3991 Z-5
    G1  X28.1982 Y15.3955 Z-5
    G1  X24.6533 Y15.3955 Z-5
    G1  X24.6533 Y1.9922 Z-5
    G1  X31.9043 Y1.9922 Z-5
    G1  X31.9043 Y6.8115 Z-5
    G1  X31.9082 Y6.9351 Z-5
    G1  X31.9199 Y7.0496 Z-5
    G1  X31.9393 Y7.1548 Z-5
    G1  X31.9666 Y7.251 Z-5
    G1  X32.0016 Y7.338 Z-5
    G1  X32.0444 Y7.4158 Z-5
    G1  X32.095 Y7.4844 Z-5
    G1  X32.1533 Y7.5439 Z-5
    G1  X32.2211 Y7.5954 Z-5
    G1  X32.2998 Y7.6401 Z-5
    G1  X32.3895 Y7.6778 Z-5
    G1  X32.4902 Y7.7087 Z-5
    G1  X32.6019 Y7.7328 Z-5
    G1  X32.7246 Y7.7499 Z-5
    G1  X32.8583 Y7.7602 Z-5
    G1  X33.0029 Y7.7637 Z-5
    G1  X33.1476 Y7.7602 Z-5
    G1  X33.2813 Y7.7499 Z-5
    G1  X33.4039 Y7.7328 Z-5
    G1  X33.5156 Y7.7087 Z-5
    G1  X33.6163 Y7.6778 Z-5
    G1  X33.7061 Y7.6401 Z-5
    G1  X33.7848 Y7.5954 Z-5
    G1  X33.8525 Y7.5439 Z-5
    G1  X33.9109 Y7.4844 Z-5
    G1  X33.9615 Y7.4158 Z-5
    G1  X34.0043 Y7.338 Z-5
    G1  X34.0393 Y7.251 Z-5
    G1  X34.0665 Y7.1548 Z-5
    G1  X34.086 Y7.0496 Z-5
    G1  X34.0977 Y6.9351 Z-5
    G1  X34.1016 Y6.8115 Z-5
    G1  X34.1016 Y0.9961 Z-5
    G1  X34.0982 Y0.8655 Z-5
    G1  X34.0883 Y0.7448 Z-5
    G1  X34.0717 Y0.6339 Z-5
    G1  X34.0485 Y0.5328 Z-5
    G1  X34.0186 Y0.4416 Z-5
    G1  X33.9821 Y0.3603 Z-5
    G1  X33.9389 Y0.2887 Z-5
    G1  X33.8892 Y0.2271 Z-5
    G1  X33.8316 Y0.1738 Z-5
    G1  X33.7651 Y0.1277 Z-5
    G1  X33.6897 Y0.0887 Z-5
    G1  X33.6053 Y0.0568 Z-5
    G1  X33.5121 Y0.0319 Z-5
    G1  X33.4099 Y0.0142 Z-5
    G1  X33.2988 Y0.0035 Z-5
    G1  X33.1787 Y0 Z-5
    G1  X20.083 Y0 Z-5
    G1  X19.963 Y0.0035 Z-5
    G1  X19.8518 Y0.0142 Z-5
    G1  X19.7496 Y0.0319 Z-5
    G1  X19.6564 Y0.0568 Z-5
    G1  X19.572 Y0.0887 Z-5
    G1  X19.4966 Y0.1277 Z-5
    G1  X19.4301 Y0.1738 Z-5
    G1  X19.3726 Y0.2271 Z-5
    G1  X19.3228 Y0.2887 Z-5
    G1  X19.2796 Y0.3603 Z-5
    G1  X19.2431 Y0.4416 Z-5
    G1  X19.2133 Y0.5328 Z-5
    G1  X19.19 Y0.6339 Z-5
    G1  X19.1734 Y0.7448 Z-5
    G1  X19.1635 Y0.8655 Z-5
    G1  X19.1602 Y0.9961 Z-5
    G1  X19.1635 Y1.1267 Z-5
    G1  X19.1734 Y1.2474 Z-5
    G1  X19.19 Y1.3583 Z-5
    G1  X19.2133 Y1.4594 Z-5
    G1  X19.2431 Y1.5506 Z-5
    G1  X19.2796 Y1.6319 Z-5
    G1  X19.3228 Y1.7035 Z-5
    G1  X19.3726 Y1.7651 Z-5
    G1  X19.4301 Y1.8184 Z-5
    G1  X19.4966 Y1.8645 Z-5
    G1  X19.572 Y1.9035 Z-5
    G1  X19.6564 Y1.9354 Z-5
    G1  X19.7496 Y1.9603 Z-5
    G1  X19.8518 Y1.978 Z-5
    G1  X19.963 Y1.9886 Z-5
    G1  X20.083 Y1.9922 Z-5
    G1  X22.4561 Y1.9922 Z-5
    G1  X22.4561 Y15.3955 Z-5
    G1  X20.083 Y15.3955 Z-5
    G1  X19.963 Y15.3991 Z-5
    G1  X19.8518 Y15.4097 Z-5
    G1  X19.7496 Y15.4274 Z-5
    G1  X19.6564 Y15.4523 Z-5
    G1  X19.572 Y15.4842 Z-5
    G1  X19.4966 Y15.5232 Z-5
    G1  X19.4301 Y15.5693 Z-5
    G1  X19.3726 Y15.6226 Z-5
    G1  X19.3228 Y15.6842 Z-5
    G1  X19.2796 Y15.7558 Z-5
    G1  X19.2431 Y15.8371 Z-5
    G1  X19.2133 Y15.9283 Z-5
    G1  X19.19 Y16.0294 Z-5
    G1  X19.1734 Y16.1403 Z-5
    G1  X19.1635 Y16.261 Z-5
    G1  X19.1602 Y16.3916 Z-5
    G1  X19.1635 Y16.5222 Z-5
    G1  X19.1734 Y16.6429 Z-5
    G1  X19.19 Y16.7538 Z-5
    G1  X19.2133 Y16.8549 Z-5
    G1  X19.2431 Y16.9461 Z-5
    G1  X19.2796 Y17.0274 Z-5
    G1  X19.3228 Y17.099 Z-5
    G1  X19.3726 Y17.1606 Z-5
    G1  X19.4301 Y17.2139 Z-5
    G1  X19.4966 Y17.26 Z-5
    G1  X19.572 Y17.299 Z-5
    G1  X19.6564 Y17.3309 Z-5
    G1  X19.7496 Y17.3558 Z-5
    G1  X19.8518 Y17.3735 Z-5
    G1  X19.963 Y17.3841 Z-5
    G1  X20.083 Y17.3877 Z-5
    G1  X28.1982 Y17.3877 Z-5
    G0  X28.1982 Y17.3877 Z5
    G0  X52.8955 Y17.3877 Z5
    F100
    G1  X52.8955 Y17.3877 Z5
    G1  X52.8955 Y17.3877 Z-5
    G1  X53.0156 Y17.3841 Z-5
    G1  X53.1267 Y17.3735 Z-5
    G1  X53.2289 Y17.3558 Z-5
    G1  X53.3221 Y17.3309 Z-5
    G1  X53.4065 Y17.299 Z-5
    G1  X53.4819 Y17.26 Z-5
    G1  X53.5484 Y17.2139 Z-5
    G1  X53.606 Y17.1606 Z-5
    G1  X53.6557 Y17.099 Z-5
    G1  X53.6989 Y17.0274 Z-5
    G1  X53.7354 Y16.9461 Z-5
    G1  X53.7653 Y16.8549 Z-5
    G1  X53.7885 Y16.7538 Z-5
    G1  X53.8051 Y16.6429 Z-5
    G1  X53.815 Y16.5222 Z-5
    G1  X53.8184 Y16.3916 Z-5
    G1  X53.815 Y16.261 Z-5
    G1  X53.8051 Y16.1403 Z-5
    G1  X53.7885 Y16.0294 Z-5
    G1  X53.7653 Y15.9283 Z-5
    G1  X53.7354 Y15.8371 Z-5
    G1  X53.6989 Y15.7558 Z-5
    G1  X53.6557 Y15.6842 Z-5
    G1  X53.606 Y15.6226 Z-5
    G1  X53.5484 Y15.5693 Z-5
    G1  X53.4819 Y15.5232 Z-5
    G1  X53.4065 Y15.4842 Z-5
    G1  X53.3221 Y15.4523 Z-5
    G1  X53.2289 Y15.4274 Z-5
    G1  X53.1267 Y15.4097 Z-5
    G1  X53.0156 Y15.3991 Z-5
    G1  X52.8955 Y15.3955 Z-5
    G1  X51.7676 Y15.3955 Z-5
    G1  X46.5088 Y0.6299 Z-5
    G1  X46.4583 Y0.5063 Z-5
    G1  X46.4021 Y0.3918 Z-5
    G1  X46.3402 Y0.2866 Z-5
    G1  X46.2726 Y0.1904 Z-5
    G1  X46.1992 Y0.1035 Z-5
    G1  X46.1201 Y0.0256 Z-5
    G1  X46.0353 Y-0.043 Z-5
    G1  X45.9448 Y-0.1025 Z-5
    G1  X45.8472 Y-0.154 Z-5
    G1  X45.7411 Y-0.1987 Z-5
    G1  X45.6266 Y-0.2364 Z-5
    G1  X45.5035 Y-0.2673 Z-5
    G1  X45.372 Y-0.2914 Z-5
    G1  X45.2321 Y-0.3085 Z-5
    G1  X45.0837 Y-0.3188 Z-5
    G1  X44.9268 Y-0.3223 Z-5
    G1  X44.7733 Y-0.3187 Z-5
    G1  X44.6278 Y-0.3081 Z-5
    G1  X44.4904 Y-0.2903 Z-5
    G1  X44.361 Y-0.2655 Z-5
    G1  X44.2395 Y-0.2336 Z-5
    G1  X44.1261 Y-0.1945 Z-5
    G1  X44.0207 Y-0.1484 Z-5
    G1  X43.9233 Y-0.0952 Z-5
    G1  X43.833 Y-0.0342 Z-5
    G1  X43.7489 Y0.0352 Z-5
    G1  X43.671 Y0.1132 Z-5
    G1  X43.5992 Y0.1996 Z-5
    G1  X43.5337 Y0.2945 Z-5
    G1  X43.4743 Y0.3978 Z-5
    G1  X43.4211 Y0.5096 Z-5
    G1  X43.374 Y0.6299 Z-5
    G1  X38.1592 Y15.3955 Z-5
    G1  X37.0459 Y15.3955 Z-5
    G1  X36.9258 Y15.3991 Z-5
    G1  X36.8147 Y15.4097 Z-5
    G1  X36.7125 Y15.4274 Z-5
    G1  X36.6193 Y15.4523 Z-5
    G1  X36.5349 Y15.4842 Z-5
    G1  X36.4595 Y15.5232 Z-5
    G1  X36.393 Y15.5693 Z-5
    G1  X36.3354 Y15.6226 Z-5
    G1  X36.2857 Y15.6842 Z-5
    G1  X36.2425 Y15.7558 Z-5
    G1  X36.206 Y15.8371 Z-5
    G1  X36.1761 Y15.9283 Z-5
    G1  X36.1529 Y16.0294 Z-5
    G1  X36.1363 Y16.1403 Z-5
    G1  X36.1264 Y16.261 Z-5
    G1  X36.123 Y16.3916 Z-5
    G1  X36.1264 Y16.5222 Z-5
    G1  X36.1363 Y16.6429 Z-5
    G1  X36.1529 Y16.7538 Z-5
    G1  X36.1761 Y16.8549 Z-5
    G1  X36.206 Y16.9461 Z-5
    G1  X36.2425 Y17.0274 Z-5
    G1  X36.2857 Y17.099 Z-5
    G1  X36.3354 Y17.1606 Z-5
    G1  X36.393 Y17.2139 Z-5
    G1  X36.4595 Y17.26 Z-5
    G1  X36.5349 Y17.299 Z-5
    G1  X36.6193 Y17.3309 Z-5
    G1  X36.7125 Y17.3558 Z-5
    G1  X36.8147 Y17.3735 Z-5
    G1  X36.9258 Y17.3841 Z-5
    G1  X37.0459 Y17.3877 Z-5
    G1  X42.5244 Y17.3877 Z-5
    G1  X42.6445 Y17.3841 Z-5
    G1  X42.7556 Y17.3735 Z-5
    G1  X42.8578 Y17.3558 Z-5
    G1  X42.951 Y17.3309 Z-5
    G1  X43.0354 Y17.299 Z-5
    G1  X43.1108 Y17.26 Z-5
    G1  X43.1773 Y17.2139 Z-5
    G1  X43.2349 Y17.1606 Z-5
    G1  X43.2846 Y17.099 Z-5
    G1  X43.3278 Y17.0274 Z-5
    G1  X43.3643 Y16.9461 Z-5
    G1  X43.3942 Y16.8549 Z-5
    G1  X43.4174 Y16.7538 Z-5
    G1  X43.434 Y16.6429 Z-5
    G1  X43.4439 Y16.5222 Z-5
    G1  X43.4473 Y16.3916 Z-5
    G1  X43.4439 Y16.261 Z-5
    G1  X43.434 Y16.1403 Z-5
    G1  X43.4174 Y16.0294 Z-5
    G1  X43.3942 Y15.9283 Z-5
    G1  X43.3643 Y15.8371 Z-5
    G1  X43.3278 Y15.7558 Z-5
    G1  X43.2846 Y15.6842 Z-5
    G1  X43.2349 Y15.6226 Z-5
    G1  X43.1773 Y15.5693 Z-5
    G1  X43.1108 Y15.5232 Z-5
    G1  X43.0354 Y15.4842 Z-5
    G1  X42.951 Y15.4523 Z-5
    G1  X42.8578 Y15.4274 Z-5
    G1  X42.7556 Y15.4097 Z-5
    G1  X42.6445 Y15.3991 Z-5
    G1  X42.5244 Y15.3955 Z-5
    G1  X40.459 Y15.3955 Z-5
    G1  X44.9414 Y2.4463 Z-5
    G1  X49.4678 Y15.3955 Z-5
    G1  X48.0029 Y15.3955 Z-5
    G1  X47.8829 Y15.3991 Z-5
    G1  X47.7718 Y15.4097 Z-5
    G1  X47.6696 Y15.4274 Z-5
    G1  X47.5763 Y15.4523 Z-5
    G1  X47.492 Y15.4842 Z-5
    G1  X47.4165 Y15.5232 Z-5
    G1  X47.35 Y15.5693 Z-5
    G1  X47.2925 Y15.6226 Z-5
    G1  X47.2427 Y15.6842 Z-5
    G1  X47.1996 Y15.7558 Z-5
    G1  X47.163 Y15.8371 Z-5
    G1  X47.1332 Y15.9283 Z-5
    G1  X47.1099 Y16.0294 Z-5
    G1  X47.0934 Y16.1403 Z-5
    G1  X47.0834 Y16.261 Z-5
    G1  X47.0801 Y16.3916 Z-5
    G1  X47.0834 Y16.5222 Z-5
    G1  X47.0934 Y16.6429 Z-5
    G1  X47.1099 Y16.7538 Z-5
    G1  X47.1332 Y16.8549 Z-5
    G1  X47.163 Y16.9461 Z-5
    G1  X47.1996 Y17.0274 Z-5
    G1  X47.2427 Y17.099 Z-5
    G1  X47.2925 Y17.1606 Z-5
    G1  X47.35 Y17.2139 Z-5
    G1  X47.4165 Y17.26 Z-5
    G1  X47.492 Y17.299 Z-5
    G1  X47.5763 Y17.3309 Z-5
    G1  X47.6696 Y17.3558 Z-5
    G1  X47.7718 Y17.3735 Z-5
    G1  X47.8829 Y17.3841 Z-5
    G1  X48.0029 Y17.3877 Z-5
    G1  X52.8955 Y17.3877 Z-5
    G0  X52.8955 Y17.3877 Z5
    G0  X52.8955 Y17.3877 Z5
    G0  X0 Y0 Z10
</script>
<script>
    require(['Ember', 'cnc/ui/graphicView', 'cnc/cam/cam', 'cnc/util', 'cnc/ui/gcodeEditor', 'cnc/gcode/gcodeSimulation', 'templates'],
            function (Ember, GraphicView, cam, util, gcodeEditor, gcodeSimulation) {
                var demoCode = $('#demoCode').text();

                Ember.Handlebars.helper('num', function (value) {
                    return new Handlebars.SafeString(Handlebars.Utils.escapeExpression(util.formatCoord(value)));
                });
                Ember.TEMPLATES['application'] = Ember.TEMPLATES['camApp'];

                window.Simulator = Ember.Application.create({
                    rootElement: '#app'
                });

                Simulator.GcodeEditorComponent = gcodeEditor.GcodeEditorComponent;
                Simulator.GraphicView = GraphicView;

                Simulator.ApplicationController = Ember.ObjectController.extend({
                    init: function () {
                        this._super();
                        var _this = this;
                        $(window).on('dragover', function (event) {
                            event.preventDefault();
                            event.dataTransfer.dropEffect = 'move';
                        });

                        $(window).on('drop', function (evt) {
                            evt.preventDefault();
                            evt.stopPropagation();
                            var files = evt.dataTransfer.files;
                            var file = files[0];
                            var reader = new FileReader();
                            reader.onload = function (e) {
                                _this.set('code', e.target.result);
                                _this.launchSimulation();
                            };
                            reader.readAsText(file);
                        });
                        this.launchSimulation();
                    },
                    actions: {
                        simulate: function () {
                            this.launchSimulation();
                        },
                        loadBigSample: function () {
                            this.set('computing', true);
                            var _this = this;
                            require(['text!samples/aztec_calendar.ngc'], function (text) {
                                _this.set('code', text);
                                _this.launchSimulation();
                            });
                        }
                    },
                    launchSimulation: function () {
                        var _this = this;

                        function handleResult(result) {
                            _this.flushFragmentFile();
                            var errors = [];
                            for (var i = 0; i < result.errors.length; i++) {
                                var error = result.errors[i];
                                errors.push({row: error.lineNo, text: error.message, type: "error"});
                            }
                            _this.set('errors', errors);
                            _this.set('bbox', {min: result.min, max: result.max});
                            _this.set('totalTime', result.totalTime);
                            _this.set('lineSegmentMap', result.lineSegmentMap);
                            _this.set('computing', false);
                            console.timeEnd('simulation');
                        }

                        console.time('simulation');
                        this.set('computing', true);
                        _this.set('lineSegmentMap', []);
                        this.get('simulatedPath').clear();
                        gcodeSimulation.parseInWorker(this.get('code'), new util.Point(0, 0, 0),
                                Ember.run.bind(_this, handleResult),
                                Ember.run.bind(_this, function (fragment) {
                                    _this.get('fragmentFile').pushObject(fragment);
                                    Ember.run.throttle(_this, _this.flushFragmentFile, 500);
                                }));
                    },
                    flushFragmentFile: function () {
                        this.get('simulatedPath').pushObjects(this.get('fragmentFile'));
                        this.get('fragmentFile').clear();
                    },
                    formattedTotalTime: function () {
                        var totalTime = this.get('totalTime');
                        var humanized = util.humanizeDuration(totalTime);
                        return {humanized: humanized, detailed: Math.round(totalTime) + 's'};
                    }.property('totalTime'),
                    currentHighLight: function () {
                        return this.get('lineSegmentMap')[this.get('currentRow')];
                    }.property('currentRow', 'lineSegmentMap').readOnly(),
                    code: demoCode,
                    errors: [],
                    bbox: {},
                    totalTime: 0,
                    lineSegmentMap: [],
                    currentRow: null,
                    simulatedPath: [],
                    computing: false,
                    fragmentFile: [],
                    canSelectLanguage: false,
                    usingGcode: true,
                    decorations: []
                });
            });
</script>
<a href="https://github.com/FransOJO/iso-sim"><img
        style="position: absolute; top: 0; right: 0; border: 0;"
        alt="Se koden på GitHub"
      
</body>
</html>

